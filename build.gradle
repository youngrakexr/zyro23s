buildscript {
	repositories {
		mavenLocal()
		jcenter()
		mavenCentral()
		maven { url "https://repo.grails.org/grails/libs-snapshots-local" }
	}
	dependencies {
		classpath "org.grails:grails-gradle-plugin:3.0.0.BUILD-SNAPSHOT"
	}
}

apply plugin: "grails-core"
apply plugin: "maven"
apply plugin: "eclipse"

repositories {
	mavenLocal()
	jcenter()
	mavenCentral()
	maven { url "https://repo.grails.org/grails/libs-snapshots-local" }
}

configurations {
	provided
}

dependencies {
	provided "javax.servlet:javax.servlet-api:3.1.0"
	
	compile "org.grails:grails-dependencies:3.0.0.BUILD-SNAPSHOT"
	compile "org.grails:grails-web-boot:3.0.0.BUILD-SNAPSHOT"
	// TODO: versions, excludes, etc.
	compile "org.springframework:spring-websocket:4.0.7.RELEASE"
	compile "org.springframework:spring-messaging:4.0.7.RELEASE"
	compile "com.fasterxml.jackson.core:jackson-databind:2.4.3"
}

version "2.0.0.BUILD-SNAPSHOT"
group "org.grails.plugins"

jar.baseName = "spring-websocket"

sourceSets {
	main {
		compileClasspath += [configurations.provided]
	}
	test {
		compileClasspath += [configurations.provided]
		runtimeClasspath += [configurations.provided]
	}
}

eclipse.classpath.plusConfigurations += [configurations.provided]