buildscript {
	ext {
		grailsVersion = "3.1.0.M3"
		springVersion = "4.2.3.RELEASE"
	}
	repositories {
		mavenLocal()
		maven { url "http://repo.grails.org/grails/core" }
	}
	dependencies {
		classpath "org.grails:grails-gradle-plugin:${grailsVersion}"
	}
}

version "2.3.0.M1"
group "org.grails.plugins"

apply plugin: "eclipse"
apply plugin: "org.grails.grails-plugin"
apply plugin: "org.grails.grails-plugin-publish"

sourceCompatibility = 1.7
targetCompatibility = 1.7

repositories {
	mavenLocal()
	maven { url "http://repo.grails.org/grails/core" }
}

dependencyManagement {
	imports {
		mavenBom "org.grails:grails-bom:${grailsVersion}"
	}
	applyMavenExclusions false
}

dependencies {
	provided "org.grails:grails-plugin-services"
	provided "org.grails:grails-plugin-domain-class"
	
	compile "com.fasterxml.jackson.core:jackson-databind:2.6.3"
	compile "org.grails:grails-core"
	compile "org.grails:grails-dependencies"
	compile "org.grails:grails-web-boot"
	compile "org.grails.plugins:cache"
	compile "org.grails.plugins:scaffolding"
	compile "org.springframework:spring-messaging:${springVersion}"
	compile "org.springframework:spring-websocket:${springVersion}"
	compile "org.springframework.boot:spring-boot-autoconfigure"
	compile "org.springframework.boot:spring-boot-starter-logging"
	compile "org.springframework.boot:spring-boot-starter-actuator"
	compile "org.springframework.boot:spring-boot-starter-tomcat"
	
	testCompile "org.grails:grails-plugin-testing"
	
	profile "org.grails.profiles:web-plugin:${grailsVersion}"
	
	console "org.grails:grails-console"
}

grailsPublish {
	user = project.properties.bintrayUser ?: "."
	key = project.properties.bintrayKey ?: "."
	githubSlug = "zyro23/grails-spring-websocket"
	repo = "maven"
	license = "Apache-2.0"
	developers = [zyro: "zyro"]
}

eclipse {
	project {
		buildCommand "org.springframework.ide.eclipse.core.springbuilder"
		natures "org.springframework.ide.eclipse.core.springnature"
	}
}

wrapper.gradleVersion = "2.9"
