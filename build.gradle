buildscript {
	ext {
		grailsVersion = "3.2.7"
		springVersion = "4.3.7.RELEASE"
	}
	repositories {
		mavenLocal()
		maven { url "http://repo.grails.org/grails/core" }
	}
	dependencies {
		classpath "com.bertramlabs.plugins:asset-pipeline-gradle:2.14.10"
		classpath "org.grails:grails-gradle-plugin:${grailsVersion}"
	}
}

version "2.4.1"
group "org.grails.plugins"

apply plugin: "eclipse"
apply plugin: "idea"
apply plugin: "org.grails.grails-plugin"
apply plugin: "org.grails.grails-plugin-publish"
apply plugin: "com.bertramlabs.asset-pipeline"

sourceCompatibility = 1.7

repositories {
	mavenLocal()
	maven { url "http://repo.grails.org/grails/core" }
}

dependencyManagement {
	imports {
		mavenBom "org.grails:grails-bom:${grailsVersion}"
	}
	applyMavenExclusions false
}

dependencies {
	compileOnly "javax.servlet:javax.servlet-api"
	compileOnly "org.grails:grails-plugin-async"

	compile "com.fasterxml.jackson.core:jackson-databind"
	compile "org.springframework:spring-messaging:${springVersion}"
	compile "org.springframework:spring-websocket:${springVersion}"

	profile "org.grails.profiles:plugin:${grailsVersion}"
}

bootRepackage.enabled = false

assets.packagePlugin = true

grailsPublish {
	user = project.properties.bintrayUser ?: "."
	key = project.properties.bintrayKey ?: "."
	githubSlug = "zyro23/grails-spring-websocket"
	repo = "maven"
	license = "Apache-2.0"
	developers = [zyro: "zyro"]
}

wrapper.gradleVersion = "3.5.1"
